<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <style>
        .sidebar {
            max-height: 90vh;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <nav class="sidebar sidebar-open" th:fragment="nav-sidebar">

        <!-- Always visible -->
        <ul class="nav nav-pills">
            <li class="nav-item">
                <a class="nav-link" th:href="@{/}">
                    <i class="oi oi-home"></i> <span>Home</span>
                </a>
            </li>
        </ul>

        <!-- Clientes: apenas ADMIN -->
        <ul class="nav nav-pills" sec:authorize="hasAuthority('ADMIN')">
            <li class="nav-item"><span class="nav-link active">Clientes</span></li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/clientes/cadastrar}">
                    <i class="oi oi-plus"></i> <span>Cadastrar</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/clientes/listar}">
                    <i class="oi oi-spreadsheet"></i> <span>Listar</span>
                </a>
            </li>
        </ul>

        <!-- Lojas: apenas ADMIN -->
        <ul class="nav nav-pills" sec:authorize="hasAuthority('ADMIN')">
            <li class="nav-item"><span class="nav-link active">Lojas</span></li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/lojas/cadastrar}">
                    <i class="oi oi-plus"></i> <span>Cadastrar</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/lojas/listar}">
                    <i class="oi oi-spreadsheet"></i> <span>Listar</span>
                </a>
            </li>
        </ul>

        <!-- Veículos: LOJA -->
        <ul class="nav nav-pills" sec:authorize="hasAuthority('LOJA')">
            <li class="nav-item"><span class="nav-link active">Veículos</span></li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/veiculos/cadastrar}">
                    <i class="oi oi-plus"></i> <span>Cadastrar</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/veiculos/listar}">
                    <i class="oi oi-spreadsheet"></i> <span>Listar</span>
                </a>
            </li>
        </ul>

        <!-- Propostas: CLIENTE e LOJA -->
        <ul class="nav nav-pills" sec:authorize="hasAnyAuthority('CLIENTE', 'LOJA')">
            <li class="nav-item"><span class="nav-link active">Propostas</span></li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/propostas/listar}">
                    <i class="oi oi-spreadsheet"></i> <span>Listar</span>
                </a>
            </li>
        </ul>

    </nav>
</body>
</html>
